{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/plugins/jwt-auth/index.ts"],"names":[],"mappings":"AAAA,2DAA2D;AAC3D,gCAAgC;AAChC,0DAA0D;AAC1D,EAAE;AACF,kCAAkC;AAClC,eAAe;AACf,wEAAwE;AACxE,iDAAiD;AACjD,0DAA0D;AAC1D,EAAE;AACF,+DAA+D;AAC/D,qEAAqE;AACrE,+CAA+C;AAC/C,uCAAuC;AACvC,sDAAsD;AACtD,4BAA4B;AAC5B,EAAE;AACF,iDAAiD;AACjD,0BAA0B;AAC1B,iBAAiB;AACjB,EAAE;AACF,gCAAgC;AAChC,sDAAsD;AACtD,8BAA8B;AAC9B,+BAA+B;AAC/B,mDAAmD;AACnD,2BAA2B;AAC3B,gEAAgE;AAChE,4BAA4B;AAC5B,2DAA2D;AAC3D,0DAA0D;AAC1D,uEAAuE;AACvE,8BAA8B;AAC9B,oBAAoB;AACpB,kBAAkB;AAClB,aAAa;AACb,wBAAwB;AACxB,uBAAuB;AACvB,8CAA8C;AAC9C,mCAAmC;AACnC,iBAAiB;AACjB,YAAY;AACZ,SAAS;AACT,KAAK;AACL,EAAE;AACF,EAAE","sourcesContent":["// import { IPlugin, IPluginOptions } from \"../interfaces\";\n// import * as Hapi from \"hapi\";\n// // import { IUser, UserModel } from \"../../users/user\";\n//\n// export default (): IPlugin => {\n//     return {\n//         register: (server: Hapi.Server, options: IPluginOptions) => {\n//             const database = options.database;\n//             const serverConfig = options.serverConfigs;\n//\n//             const validateUser = (decoded, request, cb) => {\n//                 database.userModel.findById(decoded.id).lean(true)\n//                     .then((user: IUser) => {\n//                         if (!user) {\n//                             return cb(null, false);\n//                         }\n//\n//                         return cb(null, true);\n//                     });\n//             };\n//\n//             server.register({\n//                 register: require('hapi-auth-jwt2')\n//             }, (error) => {\n//                 if (error) {\n//                     console.log('error', error);\n//                 } else {\n//                     server.auth.strategy('jwt', 'jwt', false,\n//                         {\n//                             key: serverConfig.jwtSecret,\n//                             validateFunc: validateUser,\n//                             verifyOptions: { algorithms: ['HS256'] }\n//                         });\n//                 }\n//             });\n//         },\n//         info: () => {\n//             return {\n//                 name: \"JWT Authentication\",\n//                 version: \"1.0.0\"\n//             };\n//         }\n//     };\n// };\n//\n//\n"]}