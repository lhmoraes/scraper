<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Index</h1>

    


    


    <h3> </h3>









    




    <section>
        <article><h1 id="hapi-goldwasher">hapi-goldwasher</h1>
<p><a href="https://www.npmjs.org/package/hapi-goldwasher"><img src="http://img.shields.io/npm/v/hapi-goldwasher.svg" alt="npm version"></a>
<a href="https://travis-ci.org/alexlangberg/hapi-goldwasher"><img src="http://img.shields.io/travis/alexlangberg/hapi-goldwasher.svg" alt="Build Status"></a>
<a href="https://coveralls.io/r/alexlangberg/hapi-goldwasher?branch=master"><img src="http://img.shields.io/coveralls/alexlangberg/hapi-goldwasher.svg" alt="Coverage Status"></a>
<a href="https://codeclimate.com/github/alexlangberg/hapi-goldwasher"><img src="http://img.shields.io/codeclimate/github/alexlangberg/hapi-goldwasher.svg" alt="Code Climate"></a></p>
<p><a href="https://david-dm.org/alexlangberg/hapi-goldwasher"><img src="https://david-dm.org/alexlangberg/hapi-goldwasher.svg" alt="Dependency Status"></a>
<a href="https://david-dm.org/alexlangberg/hapi-goldwasher#info=devDependencies"><img src="https://david-dm.org/alexlangberg/hapi-goldwasher/dev-status.svg" alt="devDependency Status"></a></p>
<p>A plugin for <a href="https://www.npmjs.com/package/hapi">hapi</a> to run <a href="https://www.npmjs.org/package/goldwasher">goldwasher</a> as a scraping API on the web. Basically a scraper proxy that will return information in the selected format, defaulting to JSON.</p>
<h2 id="installation">Installation</h2>
<pre><code>npm install hapi-goldwasher
</code></pre><p>If you aren&#39;t already running a <a href="https://www.npmjs.com/package/hapi">hapi</a> server, you need to install this too, to run the example:</p>
<pre><code>npm install hapi
</code></pre><h2 id="options">Options</h2>
<p>When registering the plugin with <a href="https://www.npmjs.com/package/hapi">hapi</a>, you have several options, non of them required:</p>
<ul>
<li><code>path</code> - the endpoint you mount the plugin on. Defaults to <code>/goldwasher</code>.</li>
<li><code>maxRedirects</code> - the maximum number of redirects the scraper will accept before giving up. Defaults to <code>5</code>.</li>
<li><code>cors</code> - a CORS object. Defaults to <code>false</code>. See <a href="http://hapijs.com/api#route-options">hapi docs</a> for more information.</li>
<li><code>raw</code> - enable raw output mode. This will enable <code>output=raw</code> that will return the raw, scraped result, usually HTML.</li>
</ul>
<h2 id="parameters">Parameters</h2>
<ul>
<li><code>url</code> - url to scrape. <strong>Required</strong>.</li>
<li><code>selector</code> - cheerio (jQuery) selector, a selection of target tags. Defaults to the default of goldwasher, usually <code>&#39;h1, h2, h3, h4, h5, h6, p&#39;</code>.</li>
<li><code>search</code> - only pick results containing these terms. Not case or special character sensitive.</li>
<li><code>limit</code> - limit number of results.</li>
<li><code>output</code> - output format (<code>json</code>, <code>xml</code>, <code>atom</code>, <code>rss</code> or - if enabled - <code>raw</code>).</li>
<li><code>filterTexts</code> - stop texts that should be excluded.</li>
<li><code>filterKeywords</code> - stop words that should be excluded as keywords.</li>
<li><code>filterLocale</code> - stop words from external JSON file (see documentation on <a href="https://www.npmjs.org/package/goldwasher">goldwasher</a>)).</li>
</ul>
<h2 id="example">Example</h2>
<pre><code class="lang-javascript">var Hapi = require(&#39;hapi&#39;);
var HapiGoldwasher = require(&#39;./index&#39;);

var server = new Hapi.Server();
server.connection({ port: 7979 });

server.register({
  register: HapiGoldwasher,
  options: {
    path: &#39;/goldwasher&#39;,
    cors: {
      origin: [&#39;*&#39;]
    }
  }
}, function(err) {
  if (err) {
    throw err;
  }

  server.start(function() {
    console.log(&#39;Server running at: &#39; + server.info.uri);
  });
});
</code></pre>
<p>Go to the server uri and you will be presented with a JSON response containing documentation. I recommend using something like the <a href="https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa">Chrome JSON Formatter</a> for readability.</p>
</article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Index</a></h2>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Tue Sep 22 2015 23:12:01 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>